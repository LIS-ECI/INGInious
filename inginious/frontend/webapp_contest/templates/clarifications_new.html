$def with (course,problems,errors,AccessibleTime,contest_id,cname)

$#
$# This file is part of INGInious. See the LICENSE and the COPYRIGHTS files for
$# more information about the licensing of this file.
$#

$var title: $cname - Clarifications

$def NavbarF():
    <ol class="nav navbar-nav nav-breadcrumb">
        <li><a href="$get_homepath()/contest/$course.get_id()/$contest_id/overview">$cname</a></li>
        <li class="active"><a href="#"><i class="fa fa-cog"></i> Overview <span class="sr-only">(current)</span></a></li>
    </ol>
$var Navbar: $:NavbarF()


$# Left column content
$def ColumnF():
    $:include.contest_menu(course, contest_id, "clarification_request", False)
    $:template_helper.call('main_menu', template_helper=template_helper)
$var Column: $:ColumnF()

<form method="post">
<h2>
    New clarification
    <div class="pull-right">
        <div class="btn-group">
            <button class="btn btn-primary btn-success btn-sm task_edit_submit_button" type="submit"><i class="fa fa-save"></i> Save clarification</button>
            <a id="switch" class="btn-sm btn btn-info" href="$get_homepath()/contest/$course.get_id()/$contest_id/clarifications"><i class="fa fa-arrow-left"></i> Go to clarifications</a>
        </div>
    </div>
</h2>

    <br>

    <div class="form-group">
        <label for="subject" class="col-sm-3 control-label">Subject:</label>
        <div class="col-sm-9">
            <select class="form-control" id="subject" name="subject" placeholder="Select a problem...">
                <option value="general">General</option>
                $for id,problem in problems.items():
                    <option value="${id}">${id} - ${problem['name']}</option>
            </select>
            <br>
        </div>
    </div>
    <div class="form-group">
        <label for="text"  class="col-sm-3 control-label">Question (max. 200 characters):</label>
        <div class="col-sm-9">
            <textarea class="form-control" rows="4" id="text" name="text" maxlength="200"></textarea>
            <br>
        </div>
    </div>
</form>
<script type="text/javascript">
$$('.sorted_table').sortable({
    containerSelector: 'table',
    itemPath: '> tbody',
    itemSelector: 'tr',
    placeholder: '<tr class="placeholder"/>'
});

$$('.sorted_table').sortable("disable");

$$("#switch").click(function  (e) {
    if($$(this).hasClass("active")) {
        $$(this).removeClass("active");
        $$(".sorted_table tr").removeAttr("style");
    } else {
        $$(this).addClass("active");
        $$(".sorted_table tr").attr("style", "cursor: pointer;");
    }
    $$('.sorted_table').sortable($$(this).hasClass("active") ? "enable" : "disable");
});
</script>